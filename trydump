You have 3 CORRECT ways forward (choose ONE)

Iâ€™ll list them from best â†’ simplest.

ğŸ¥‡ OPTION 1 (BEST): Install Playwright browsers WITHOUT Maven

You do NOT actually need Maven on the server.

Playwright Java internally ships a Node-based driver.

âœ… Do this instead

Run your JAR once with this environment variable:

export PLAYWRIGHT_BROWSERS_PATH=$HOME/ms-playwright
java -jar yourapp.jar


ğŸ‘‰ On first run, Playwright will download Chromium here:

~/ms-playwright/


After that, future runs wonâ€™t download again.

ğŸ“Œ This works even if:

Maven âŒ

Node âŒ

npm âŒ

ğŸ¥ˆ OPTION 2: Install Maven (if allowed)

If you can install packages, do:

sudo yum install -y maven


Verify:

mvn -v


Then run:

mvn -q exec:java \
  -Dexec.mainClass=com.microsoft.playwright.CLI \
  -Dexec.args="install chromium"


ğŸ“Œ This is clean but often not allowed on prod RHEL.

ğŸ¥‰ OPTION 3: Pre-install browsers elsewhere and COPY

This is enterprise-friendly.

On your laptop / build machine:
mvn -q exec:java \
  -Dexec.mainClass=com.microsoft.playwright.CLI \
  -Dexec.args="install chromium"


This creates:

~/.cache/ms-playwright/

Copy to RHEL:
scp -r ~/.cache/ms-playwright user@rhel:/opt/ms-playwright

On RHEL before running JAR:
export PLAYWRIGHT_BROWSERS_PATH=/opt/ms-playwright
java -jar yourapp.jar


âœ” No Maven
âœ” No downloads on server
âœ” Deterministic

ğŸ”§ REQUIRED RHEL LIBRARIES (DO NOT SKIP)

Regardless of option, Chromium WILL FAIL without these:

sudo yum install -y \
  atk \
  cups-libs \
  libXcomposite \
  libXcursor \
  libXdamage \
  libXext \
  libXi \
  libXrandr \
  libXScrnSaver \
  libXtst \
  pango \
  alsa-lib \
  gtk3 \
  xorg-x11-fonts-Type1 \
  xorg-x11-fonts-misc

âœ… Minimal checklist (print this)

âœ” Java installed
âœ” CSV inside src/main/resources
âœ” JAR built with Shade plugin
âœ” PLAYWRIGHT_BROWSERS_PATH set
âœ” RHEL system libs installed

ğŸ§  Important truth (senior-level insight)

Playwright + Linux + fat JAR = browsers must live OUTSIDE the JAR

Anyone claiming â€œeverything inside one JARâ€ on Linux is lying ğŸ˜„
Even Microsoft doesnâ€™t do that.

ğŸ”¥ My recommendation for YOU (based on your use case)

Given youâ€™re building synthetic monitoring / headless automation:

ğŸ‘‰ Option 3 (pre-install + copy)
Itâ€™s what SREs actually do in enterprises.

If you want next, I can:

Give you a ready-to-use RHEL startup script

Provide a Dockerfile (best long-term)

Help convert this into a systemd service

Make it run hourly / continuously
